<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<<<<<<< HEAD
  <title>Room Balloting System</title>

  <!-- Bootstrap -->
  <link href="css/bootstrap.min.css" rel="stylesheet">
=======
  <title>Rzone</title>
    <!-- Latest compiled and minified CSS -->
    <!-- Bootstrap -->
    <link href="css/bootstrap.css" rel="stylesheet">
  <link href="css/custom.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
>>>>>>> FETCH_HEAD

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
    </head>
    <body>
<<<<<<< HEAD

      <!-- Navbar -->
      <nav class="navbar navbar-default">
        <div class="container-fluid">

          <div class="tab-content">
            <!-- home component -->
            <div role="tabpanel" class="tab-pane active" id="home">

              <div class="page-header">
                <h1>Welcome</h1>
              </div>

              <!-- message button -->
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">Here you are!</span>
              </button>
              <!-- /.message button -->

              <div class="row">
                <!-- recent events -->
                <div class="col-xs-12 col-md-12 col-lg-12">
                  <div class="panel panel-primary">
                    <div class="panel-heading">
                      <h3 class="panel-title">Raffles Hall Room Balloting System</h3>
                    </div>
                    <ul class="list-group">
                      <li class="list-group-item">
                        <div>
                          <div class="modal-content">
                            <div class="modal-header">
                              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                              <h4 class="modal-title" id="myModalLabel">RBS</h4>
                            </div>
                            <!-- room balloting system -->
                            <div class="modal-body" id='table-container'>
                             <div role="tabpanel">

                              <!-- Nav tabs -->
                              <ul class="nav nav-pills" role="tablist" id = "myTab">
                                <li role="presentation" class="active"><a href="#2" aria-controls="2" role="tab" data-toggle="tab">Block 2</a></li>
                                <li role="presentation"><a href="#3" aria-controls="3" role="tab" data-toggle="tab">Block 3</a></li>
                                <li role="presentation"><a href="#3A" aria-controls="3A" role="tab" data-toggle="tab">Block 3A</a></li>
                                <li role="presentation"><a href="#4" aria-controls="4" role="tab" data-toggle="tab">Block 4</a></li>
                                <li role="presentation"><a href="#5" aria-controls="5" role="tab" data-toggle="tab">Block 5</a></li>
                                <li role="presentation"><a href="#6" aria-controls="6" role="tab" data-toggle="tab">Block 6</a></li>
                              </ul>

                              <!-- Tab panes -->
                                <!-- <div class="tab-content">
                                  <div role="tabpanel" class="tab-pane fade in active" id="Blk2">
                                    <button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Points">101</button>
                                </div>

                                  <div role="tabpanel" class="tab-pane fade" id="Blk3">
                                    <button type="button" class="btn btn-default">101</button>                  
                                  </div>

                                  <div role="tabpanel" class="tab-pane fade" id="Blk3A">
                                    <button type="button" class="btn btn-default">101</button>
                                  </div>

                                  <div role="tabpanel" class="tab-pane fade" id="Blk4">
                                    <button type="button" class="btn btn-default">101</button>

                                  </div>

                                  <div role="tabpanel" class="tab-pane fade" id="Blk5">
                                    <button type="button" class="btn btn-default">101</button>
                                  </div>

                                  <div role="tabpanel" class="tab-pane fade" id="Blk6">
                                    <button type="button" class="btn btn-default">101</button>
                                  </div>
                                </div>
                              -->
                              <script>
                              (function() {

                                var xhr = new XMLHttpRequest();
                                xhr.onload = on_load;
                                xhr.open('GET', 'http://raffles.nus.edu.sg/rbs/roominfo.php', true);
                                xhr.send();

                                function on_load(e) {
                                  var obj = JSON.parse(xhr.responseText);
                                  var table = document.createElement('div');
                                  table.setAttribute('class', 'tab-content');
                                  Object.keys(obj).forEach(function (block_no) {
                                    var block = obj[block_no];
                                    var row = document.createElement('div');
                                    row.id = block_no;
                                    row.setAttribute('role','tabpanel');
                                    row.setAttribute('class', 'tab-pane fade');
                                    Object.keys(block).forEach(function (room_no) {
                                      var d = document.createElement('button');
                                      d.textContent = room_no + ", type " + block[room_no].type;
                                      
                                      d.setAttribute('type', 'button');
                                      d.setAttribute('class', 'btn btn-default');
                                      row.appendChild(d);
                                    });
                                    table.appendChild(row);
                                  });
                                  document.getElementById('table-container').appendChild(table);
                                  }

                                }());



</script>

</div>
<div class="modal-footer">
  <button type="button" class="btn btn-primary">Save</button>
  <button type="button" class="btn btn-default">Cancel</button>
</div>

</div><!-- /.content -->

</div>
</li>
</ul>

</div>
<!-- end of recent events -->

</div> <!-- end of panel -->
</div>
<!-- end of row -->


</div>
<!-- /.home component -->

</div>
<!-- /.profile component -->

<div role="tabpanel" class="tab-pane" id="messages"></div>
<div role="tabpanel" class="tab-pane" id="settings">...</div>
</div>

<script>
(function () {
  $('#myTab a:last').tab('show')
})
</script>

</div><!-- /.container-fluid -->
</nav>

<!-- this component will extend to the whole page -->
<div class="jumbotron" style="background-color:#FFFFFF">

</div>


<br>
<br>


<footer>
  <!-- position of the website -->
  <ol class="breadcrumb">
    <li>Home</li>
    <li>Rzone</li>
  </ol>
  <!-- end of position -->

  <div class="container-fluid">
    <div class="row">
      <div class="col-xs-6 col-sm-4">
        <address class="section-title"> 
          <STRONG> Raffles Hall </STRONG><br>
          19 Kent Ridge Crescent, 119278<br>
          <abbr title="Phone">P:</abbr> (+65) 6516 2078
        </address>
      </div>

      <div class="col-xs-6 col-sm-4"> 
        <p><a class="btn btn-primary btn-lg" href="https://www.facebook.com/RafflesHall?ref=eyJzaWQiOiIwLjg2Mzc3Mjk0NDU0NzIzNiIsInFzIjoiSlRWQ0pUSXlVbUZtWm14bGN5VXlNRWhoYkd3bE1qSWxOVVEiLCJndiI6Ijk0YWQwYTU1MTZkN2E4ZDdhOGFlZmIyZjgzYWFmMmU4ZTQyNGIyNTYifQ" role="button">Facebook</a></p>
      </div>

      <div class="col-xs-6 col-sm-4"> 
        <p><a class="btn btn-primary btn-lg" href="https://www.facebook.com/RafflesHall?ref=eyJzaWQiOiIwLjg2Mzc3Mjk0NDU0NzIzNiIsInFzIjoiSlRWQ0pUSXlVbUZtWm14bGN5VXlNRWhoYkd3bE1qSWxOVVEiLCJndiI6Ijk0YWQwYTU1MTZkN2E4ZDdhOGFlZmIyZjgzYWFmMmU4ZTQyNGIyNTYifQ" role="button">Google+</a></p>
      </div>

    </div> <!-- end of row -->
  </div> <!-- end of container -->

</footer>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="js/bootstrap.min.js"></script>
</body>
</html>
=======
        
        
        
        <div class="panel" id="p">
        <table class="table table-bordered" id="table">
        </table>
        
         </div>
        <script>
            
            var xhr = new XMLHttpRequest();
            xhr.onload = on_load;
            xhr.open('GET', 'http://raffles.nus.edu.sg/rbs/roominfo.php', true);
            xhr.send();
            
            function on_load(e) {
                    var obj = JSON.parse(xhr.responseText);
                    
                    var block_num = Object.keys(obj);
                    for (var j in block_num){
                        var tr = document.createElement("tr");
                        room = Object.keys(obj[block_num[j]]);
                        for (var r in room){
                            var td_owner = document.createElement("td");
                            var td_type = document.createElement("td");
                            var td_pts = document.createElement("td");
                            
                            var owner = obj[block_num[j]][room[r]].owner_matric;
                            var type = obj[block_num[j]][room[r]].type;
                            var pts = obj[block_num[j]][room[r]].pts;
                            
                            td_owner.innerHTML = owner;
                            td_type.innerHTML = type;
                            td_pts.innerHTML = pts;
                            
                            tr.appendChild(td_owner);
                            tr.appendChild(td_type);
                            tr.appendChild(td_pts);
                        }
                        
                        document.getElementById("table").appendChild(tr);
                    }
                
                   
                    console.log(JSON.parse(xhr.responseText));
            }
        
        </script>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>





<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    </body>
    </html>
>>>>>>> FETCH_HEAD

